# VK-to-TG Video Poster

Этот скрипт отслеживает новые посты на стене сообщества VK, скачивает прикрепленные к ним видео и публикует их в Telegram-канал, используя ваш личный аккаунт (через Telethon) для поддержки файлов до 2 ГБ.

## Настройка

1.  **Установите зависимости.**
    У вас должен быть установлен [uv](https://github.com/astral-sh/uv).

    ```bash
    uv pip install -r requirements.txt
    ```

2.  **Настройте переменные окружения.**
    Скопируйте `.env.example` в `.env` и заполните его вашими данными.

    - `VK_SERVICE_TOKEN`: Сервисный ключ доступа вашего VK-приложения.
    - `VK_DOMAIN`: Короткое имя или ID сообщества VK (например, `durov`).
    - `TELEGRAM_API_ID` и `TELEGRAM_API_HASH`: Получите их на [my.telegram.org](https://my.telegram.org) в разделе "API development tools".
    - `TELEGRAM_CHANNEL_ID`: ID вашего Telegram-канала (например, `@my_channel` или `-100123456789`).

3.  **Авторизация в VK в браузере.**
    Для скачивания видео `yt-dlp` требуются cookies. Войдите в свой аккаунт `vk.com` в браузере, который вы указали в `src/downloader.py` (по умолчанию `edge`).

## Запуск

    ```bash
    uv run python main.py
    ```

### Важно: Первый запуск

При первом запуске `Telethon` попросит вас ввести номер телефона, код из Telegram и, возможно, пароль двухфакторной аутентификации прямо в консоли. После успешной авторизации будет создан файл `user_session.session`, и в дальнейшем вход будет происходить автоматически.